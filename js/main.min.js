function onchageName(){""!=nameFeedback.value?nameFeedbackLabel.classList.add("change-label"):nameFeedbackLabel.classList.remove("change-label")}function onchageEmail(){""!=emailFeedback.value?emailFeedbackLabel.classList.add("change-label"):emailFeedbackLabel.classList.remove("change-label")}var link=document.querySelector(".feedback"),feedbackForm=document.querySelector(".popup-feedback"),close=feedbackForm.querySelector(".exit"),feedbackFormOverlay=document.querySelector(".popup-feedback-overlay"),nameFeedback=feedbackForm.querySelector("[name=feedback-name]"),emailFeedback=feedbackForm.querySelector("[name=feedback-email]"),nameFeedbackLabel=feedbackForm.querySelector("[for=feedback-name]"),emailFeedbackLabel=feedbackForm.querySelector("[for=feedback-email]"),message=feedbackForm.querySelector("[name=user-message]"),storageEmail=localStorage.getItem("email"),storageName=localStorage.getItem("name");link.addEventListener("click",function(e){e.preventDefault(),feedbackForm.classList.add("popup-show"),feedbackFormOverlay.classList.add("popup-show"),storageName&&storageEmail?(nameFeedback.value=storageName,emailFeedback.value=storageEmail,emailFeedbackLabel.classList.add("change-label"),nameFeedbackLabel.classList.add("change-label"),message.focus()):storageName?(nameFeedback.value=storageName,nameFeedbackLabel.classList.add("change-label"),emailFeedback.focus()):storageEmail&&(emailFeedback.value=storageEmail,emailFeedbackLabel.classList.add("change-label"),nameFeedback.focus())}),close.addEventListener("click",function(e){e.preventDefault(),feedbackForm.classList.remove("popup-show","popup-feedback-error"),feedbackFormOverlay.classList.remove("popup-show")}),feedbackForm.addEventListener("submit",function(e){nameFeedback.value&&emailFeedback.value&&message.value?(localStorage.setItem("email",emailFeedback.value),localStorage.setItem("name",nameFeedback.value)):(e.preventDefault(),feedbackForm.classList.add("popup-feedback-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&feedbackForm.classList.contains("popup-show")&&(feedbackForm.classList.remove("popup-show","popup-feedback-error"),feedbackFormOverlay.classList.remove("popup-show"),feedbackForm.offsetWidth=feedbackForm.offsetWidth)}),nameFeedback.addEventListener("change",onchageName),emailFeedback.addEventListener("change",onchageEmail);
